ifeq ($(CONFIG_POWERVR_SUNXI),y)
    include $(srctree)/drivers/staging/imgtec/config_kernel.mk
endif

obj-$(CONFIG_POWERVR_SUNXI) += sun9i.o

sun9i-y += sunxi_init.o \
	   ion_support_sunxi.o \
	   ../pvrsrvkm/$(PVR_ARCH)/interrupt_support.o

ccflags-y += -include $(srctree)/drivers/staging/imgtec/config_kernel.h \
             -I$(srctree)/$(src) \
             -I$(srctree)/drivers/staging/imgtec \
             -I$(srctree)/drivers/staging/imgtec/pvrsrvkm \
             -I$(srctree)/drivers/staging/imgtec/pvrsrvkm/$(PVR_ARCH) \
             -I$(srctree)/drivers/staging/imgtec/pvrsrvkm/$(PVR_ARCH)/hwdefs \
             -I$(srctree)/drivers/staging/imgtec/pvrsrvkm/$(PVR_ARCH)/hwdefs/km

tmp := $(addprefix -I,$(wildcard $(srctree)/drivers/staging/imgtec/pvrsrvkm/$(PVR_ARCH)/generated/*))
$(warning $(tmp))
ccflags-y += $(tmp)
